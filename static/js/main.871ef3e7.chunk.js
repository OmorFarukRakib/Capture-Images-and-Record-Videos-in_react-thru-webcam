(this.webpackJsonpreact_webcam_experiment=this.webpackJsonpreact_webcam_experiment||[]).push([[0],{54:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(13),i=n.n(r),o=n(12),s=n(32),l=n.n(s),d=n(70),j=n(72),b=n(73),u=n(75),h=n(27),O=n.n(h),m=n(28),x=n.n(m),v=n(74),g=n(33),f=n(2);var p=Object(v.a)((function(e){return{container:{marginTop:"20px",backgroundColor:e.palette.info.light},webcam:{justifyContent:"center",justify:"center",marginLeft:"35%"}}})),C=function(){var e=p(),t=a.a.useRef(null),n=Object(c.useRef)(null),r=Object(c.useState)(null),i=Object(o.a)(r,2),s=i[0],h=i[1],m=Object(c.useState)(!0),v=Object(o.a)(m,2),C=v[0],w=v[1],y={};y=C?{width:400,height:250,facingMode:"user"}:{width:400,height:250,facingMode:{exact:"environment"}};var k=a.a.useCallback((function(){var e=t.current.getScreenshot();h(e)}),[t,h]),S=Object(c.useRef)(null),L=Object(c.useState)(!1),R=Object(o.a)(L,2),F=R[0],T=R[1],D=Object(c.useState)([]),M=Object(o.a)(D,2),I=M[0],B=M[1],U=Object(c.useState)(""),_=Object(o.a)(U,2),E=_[0],J=_[1],N=Object(c.useState)(!1),z=Object(o.a)(N,2),H=z[0],V=z[1],Y=a.a.useCallback((function(){B([]),J(""),V(!1),T(!0),S.current=new MediaRecorder(t.current.stream,{mimeType:"video/webm"}),S.current.addEventListener("dataavailable",q),S.current.start()}),[t,T,S]),q=a.a.useCallback((function(e){var t=e.data;t.size>0&&B((function(e){return e.concat(t)}))}),[B]),A=a.a.useCallback((function(){S.current.stop(),T(!1)}),[S,t,T]),G=a.a.useCallback((function(){if(I.length){var e=new Blob(I,{type:"video/webm"}),t=URL.createObjectURL(e),n=document.createElement("a");document.body.appendChild(n),n.style="display: none",n.href=t,n.download="SampleVideoRecord.webm",n.click()}}),[I]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(d.a,{className:e.container,children:Object(f.jsx)(j.a,{variant:"h3",align:"center",children:"Capture Snap and record video using webcam"})}),Object(f.jsx)(d.a,{style:{marginTop:"20px"},children:Object(f.jsxs)(b.a,{container:!0,spacing:3,children:[Object(f.jsx)(b.a,{item:!0,sm:12,md:12,justify:"center",children:Object(f.jsxs)("div",{className:e.webcam,children:[Object(f.jsx)(l.a,{audio:!0,height:250,ref:t,screenshotFormat:"png",width:400,videoConstraints:y}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{children:g.isMobile&&!F?Object(f.jsx)("div",{children:C?Object(f.jsx)(u.a,{variant:"contained",color:"secondary",onClick:function(){w(!1),console.log("Changed to back Cam with value ".concat(y))},children:"Change To Back Cam"}):Object(f.jsx)(u.a,{variant:"contained",color:"secondary",onClick:function(){w(!0),console.log("Changed to Front Cam with value ".concat(y))},children:"Change To Front Cam"})}):null}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{children:[F?Object(f.jsx)(u.a,{variant:"contained",color:"secondary",onClick:A,children:"Stop Recording"}):Object(f.jsx)(u.a,{variant:"contained",color:"primary",onClick:Y,children:"Start Recording"}),I.length>0&&Object(f.jsx)(a.a.Fragment,{children:Object(f.jsx)(u.a,{variant:"contained",color:"primary",style:{marginLeft:"3px"},onClick:function(e){!function(){if(I.length){var e=new Blob(I,{type:"video/webm"}),t=URL.createObjectURL(e);console.log(t),J(t)}V(!0)}()},children:"Show Recording"})})]}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{children:Object(f.jsx)(u.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),k()},children:"Take Snap"})})]})}),Object(f.jsx)(b.a,{item:!0,sm:12,md:4,style:{marginLeft:"5%"},children:Object(f.jsxs)("div",{children:[s?Object(f.jsx)("img",{src:s}):null,Object(f.jsx)("a",{ref:n,href:s,download:!0}),Object(f.jsx)("div",{children:s?Object(f.jsx)(a.a.Fragment,{children:Object(f.jsxs)("div",{children:[Object(f.jsxs)(u.a,{variant:"contained",color:"primary",startIcon:Object(f.jsx)(O.a,{}),onClick:function(e){n.current.click()},children:[" ","Download"]}),Object(f.jsxs)(u.a,{variant:"contained",color:"secondary",style:{marginLeft:"3px"},startIcon:Object(f.jsx)(x.a,{}),onClick:function(e){h(null)},children:[" ","Discard Snap"]})]})}):null})]})}),Object(f.jsx)(b.a,{item:!0,sm:12,md:4,style:{marginLeft:"20%"},children:H?Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsx)("video",{width:"400",src:E,type:"video/webm",controls:!0,children:"console.log('blobData') Your browser does not support HTML5 video."}),Object(f.jsxs)("div",{children:[Object(f.jsx)(u.a,{variant:"contained",color:"primary",startIcon:Object(f.jsx)(O.a,{}),onClick:G,children:"Download"}),Object(f.jsx)(u.a,{variant:"contained",color:"secondary",style:{marginLeft:"3px"},startIcon:Object(f.jsx)(x.a,{}),onClick:function(e){B([]),J(""),V(!1)},children:"Discard"})]})]}):null})]})})]})};i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(C,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.871ef3e7.chunk.js.map