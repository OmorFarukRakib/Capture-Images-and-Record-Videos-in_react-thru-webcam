(this.webpackJsonpreact_webcam_experiment=this.webpackJsonpreact_webcam_experiment||[]).push([[0],{52:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(13),i=n.n(r),o=n(12),s=n(32),l=n.n(s),d=n(68),j=n(70),b=n(71),u=n(73),h=n(27),O=n.n(h),m=n(28),x=n.n(m),v=n(72),g=n(2);var f=Object(v.a)((function(e){return{container:{marginTop:"20px",backgroundColor:e.palette.info.light},webcam:{justifyContent:"center",justify:"center",marginLeft:"35%"}}})),p=function(){var e=f(),t=a.a.useRef(null),n=Object(c.useRef)(null),r=Object(c.useState)(null),i=Object(o.a)(r,2),s=i[0],h=i[1],m=Object(c.useState)(!0),v=Object(o.a)(m,2),p=v[0],C=v[1],w={};w=p?{width:400,height:250,facingMode:"user"}:{width:400,height:250,facingMode:{exact:"environment"}};var y=a.a.useCallback((function(){var e=t.current.getScreenshot();h(e)}),[t,h]),k=Object(c.useRef)(null),S=Object(c.useState)(!1),L=Object(o.a)(S,2),R=L[0],F=L[1],T=Object(c.useState)([]),D=Object(o.a)(T,2),I=D[0],M=D[1],B=Object(c.useState)(""),U=Object(o.a)(B,2),_=U[0],E=U[1],J=Object(c.useState)(!1),N=Object(o.a)(J,2),z=N[0],H=N[1],V=a.a.useCallback((function(){M([]),E(""),H(!1),F(!0),k.current=new MediaRecorder(t.current.stream,{mimeType:"video/webm"}),k.current.addEventListener("dataavailable",Y),k.current.start()}),[t,F,k]),Y=a.a.useCallback((function(e){var t=e.data;t.size>0&&M((function(e){return e.concat(t)}))}),[M]),q=a.a.useCallback((function(){k.current.stop(),F(!1)}),[k,t,F]),A=a.a.useCallback((function(){if(I.length){var e=new Blob(I,{type:"video/webm"}),t=URL.createObjectURL(e),n=document.createElement("a");document.body.appendChild(n),n.style="display: none",n.href=t,n.download="SampleVideoRecord.webm",n.click()}}),[I]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(d.a,{className:e.container,children:Object(g.jsx)(j.a,{variant:"h3",align:"center",children:"Capture Snap and record video using webcam"})}),Object(g.jsx)(d.a,{style:{marginTop:"20px"},children:Object(g.jsxs)(b.a,{container:!0,spacing:3,children:[Object(g.jsx)(b.a,{item:!0,sm:12,md:12,justify:"center",children:Object(g.jsxs)("div",{className:e.webcam,children:[Object(g.jsx)(l.a,{audio:!0,height:250,ref:t,screenshotFormat:"png",width:400,videoConstraints:w}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{children:p?Object(g.jsx)(u.a,{variant:"contained",color:"secondary",onClick:function(){C(!1),console.log("Changed to back Cam with value ".concat(w))},children:"Change To Back Cam"}):Object(g.jsx)(u.a,{variant:"contained",color:"secondary",onClick:function(){C(!0),console.log("Changed to Front Cam with value ".concat(w))},children:"Change To Front Cam"})}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{children:[R?Object(g.jsx)(u.a,{variant:"contained",color:"secondary",onClick:q,children:"Stop Recording"}):Object(g.jsx)(u.a,{variant:"contained",color:"primary",onClick:V,children:"Start Recording"}),I.length>0&&Object(g.jsx)(a.a.Fragment,{children:Object(g.jsx)(u.a,{variant:"contained",color:"primary",style:{marginLeft:"3px"},onClick:function(e){!function(){if(I.length){var e=new Blob(I,{type:"video/webm"}),t=URL.createObjectURL(e);console.log(t),E(t)}H(!0)}()},children:"Show Recording"})})]}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{children:Object(g.jsx)(u.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),y()},children:"Take Snap"})})]})}),Object(g.jsx)(b.a,{item:!0,sm:12,md:4,style:{marginLeft:"5%"},children:Object(g.jsxs)("div",{children:[s?Object(g.jsx)("img",{src:s}):null,Object(g.jsx)("a",{ref:n,href:s,download:!0}),Object(g.jsx)("div",{children:s?Object(g.jsx)(a.a.Fragment,{children:Object(g.jsxs)("div",{children:[Object(g.jsxs)(u.a,{variant:"contained",color:"primary",startIcon:Object(g.jsx)(O.a,{}),onClick:function(e){n.current.click()},children:[" ","Download"]}),Object(g.jsxs)(u.a,{variant:"contained",color:"secondary",style:{marginLeft:"3px"},startIcon:Object(g.jsx)(x.a,{}),onClick:function(e){h(null)},children:[" ","Discard Snap"]})]})}):null})]})}),Object(g.jsx)(b.a,{item:!0,sm:12,md:4,style:{marginLeft:"20%"},children:z?Object(g.jsxs)(a.a.Fragment,{children:[Object(g.jsx)("video",{width:"400",src:_,type:"video/webm",controls:!0,children:"console.log('blobData') Your browser does not support HTML5 video."}),Object(g.jsxs)("div",{children:[Object(g.jsx)(u.a,{variant:"contained",color:"primary",startIcon:Object(g.jsx)(O.a,{}),onClick:A,children:"Download"}),Object(g.jsx)(u.a,{variant:"contained",color:"secondary",style:{marginLeft:"3px"},startIcon:Object(g.jsx)(x.a,{}),onClick:function(e){M([]),E(""),H(!1)},children:"Discard"})]})]}):null})]})})]})};i.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(p,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.ae711816.chunk.js.map