(this.webpackJsonpreact_webcam_experiment=this.webpackJsonpreact_webcam_experiment||[]).push([[0],{52:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(13),i=n.n(r),o=n(12),s=n(32),l=n.n(s),j=n(68),d=n(70),b=n(71),u=n(73),O=n(27),h=n.n(O),m=n(28),x=n.n(m),v=n(72),p=n(2);var f=Object(v.a)((function(e){return{container:{marginTop:"20px",backgroundColor:e.palette.info.light},webcam:{justifyContent:"center",justify:"center",marginLeft:"35%"}}})),g=function(){var e=f(),t=a.a.useRef(null),n=Object(c.useRef)(null),r=Object(c.useState)(null),i=Object(o.a)(r,2),s=i[0],O=i[1],m=Object(c.useState)(!0),v=Object(o.a)(m,2),g=v[0],C=v[1],y={};if(g);else;var w=a.a.useCallback((function(){var e=t.current.getScreenshot();O(e)}),[t,O]),k=Object(c.useRef)(null),S=Object(c.useState)(!1),L=Object(o.a)(S,2),R=L[0],F=L[1],T=Object(c.useState)([]),D=Object(o.a)(T,2),I=D[0],B=D[1],U=Object(c.useState)(""),_=Object(o.a)(U,2),E=_[0],M=_[1],J=Object(c.useState)(!1),N=Object(o.a)(J,2),z=N[0],H=N[1],V=a.a.useCallback((function(){B([]),M(""),H(!1),F(!0),k.current=new MediaRecorder(t.current.stream,{mimeType:"video/webm"}),k.current.addEventListener("dataavailable",Y),k.current.start()}),[t,F,k]),Y=a.a.useCallback((function(e){var t=e.data;t.size>0&&B((function(e){return e.concat(t)}))}),[B]),q=a.a.useCallback((function(){k.current.stop(),F(!1)}),[k,t,F]),A=a.a.useCallback((function(){if(I.length){var e=new Blob(I,{type:"video/webm"}),t=URL.createObjectURL(e),n=document.createElement("a");document.body.appendChild(n),n.style="display: none",n.href=t,n.download="SampleVideoRecord.webm",n.click()}}),[I]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(j.a,{className:e.container,children:Object(p.jsx)(d.a,{variant:"h3",align:"center",children:"Capture Snap and record video using webcam"})}),Object(p.jsx)(j.a,{style:{marginTop:"20px"},children:Object(p.jsxs)(b.a,{container:!0,spacing:3,children:[Object(p.jsx)(b.a,{item:!0,sm:12,md:12,justify:"center",children:Object(p.jsxs)("div",{className:e.webcam,children:[Object(p.jsx)(l.a,{audio:!0,height:250,ref:t,screenshotFormat:"png",width:400,videoConstraints:y}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{children:g?Object(p.jsx)(u.a,{variant:"contained",color:"secondary",onClick:function(){C(!1),console.log("Changed to back Cam with value ".concat(y))},children:"Change To Back Cam"}):Object(p.jsx)(u.a,{variant:"contained",color:"secondary",onClick:function(){C(!0),console.log("Changed to Front Cam with value ".concat(y))},children:"Change To Front Cam"})}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{children:[R?Object(p.jsx)(u.a,{variant:"contained",color:"secondary",onClick:q,children:"Stop Recording"}):Object(p.jsx)(u.a,{variant:"contained",color:"primary",onClick:V,children:"Start Recording"}),I.length>0&&Object(p.jsx)(a.a.Fragment,{children:Object(p.jsx)(u.a,{variant:"contained",color:"primary",style:{marginLeft:"3px"},onClick:function(e){!function(){if(I.length){var e=new Blob(I,{type:"video/webm"}),t=URL.createObjectURL(e);console.log(t),M(t)}H(!0)}()},children:"Show Recording"})})]}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{children:Object(p.jsx)(u.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),w()},children:"Take Snap"})})]})}),Object(p.jsx)(b.a,{item:!0,sm:12,md:4,style:{marginLeft:"5%"},children:Object(p.jsxs)("div",{children:[s?Object(p.jsx)("img",{src:s}):null,Object(p.jsx)("a",{ref:n,href:s,download:!0}),Object(p.jsx)("div",{children:s?Object(p.jsx)(a.a.Fragment,{children:Object(p.jsxs)("div",{children:[Object(p.jsxs)(u.a,{variant:"contained",color:"primary",startIcon:Object(p.jsx)(h.a,{}),onClick:function(e){n.current.click()},children:[" ","Download"]}),Object(p.jsxs)(u.a,{variant:"contained",color:"secondary",style:{marginLeft:"3px"},startIcon:Object(p.jsx)(x.a,{}),onClick:function(e){O(null)},children:[" ","Discard Snap"]})]})}):null})]})}),Object(p.jsx)(b.a,{item:!0,sm:12,md:4,style:{marginLeft:"20%"},children:z?Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)("video",{width:"400",src:E,type:"video/webm",controls:!0,children:"console.log('blobData') Your browser does not support HTML5 video."}),Object(p.jsxs)("div",{children:[Object(p.jsx)(u.a,{variant:"contained",color:"primary",startIcon:Object(p.jsx)(h.a,{}),onClick:A,children:"Download"}),Object(p.jsx)(u.a,{variant:"contained",color:"secondary",style:{marginLeft:"3px"},startIcon:Object(p.jsx)(x.a,{}),onClick:function(e){B([]),M(""),H(!1)},children:"Discard"})]})]}):null})]})})]})};i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(g,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.dfd0bd4b.chunk.js.map