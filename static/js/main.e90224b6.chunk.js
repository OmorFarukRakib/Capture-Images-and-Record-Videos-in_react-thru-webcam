(this.webpackJsonpreact_webcam_experiment=this.webpackJsonpreact_webcam_experiment||[]).push([[0],{52:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(12),i=n.n(r),o=n(16),s=n(32),l=n.n(s),d=n(68),j=n(70),b=n(71),u=n(73),O=n(27),m=n.n(O),h=n(28),x=n.n(h),p=n(72),f=n(2);var v=Object(p.a)((function(e){return{container:{marginTop:"20px",backgroundColor:e.palette.info.light},webcam:{justifyContent:"center",justify:"center",marginLeft:"35%"}}})),g=function(){var e=v(),t=a.a.useRef(null),n=Object(c.useRef)(null),r=Object(c.useState)(null),i=Object(o.a)(r,2),s=i[0],O=i[1],h=a.a.useCallback((function(){var e=t.current.getScreenshot();O(e)}),[t,O]),p=Object(c.useRef)(null),g=Object(c.useState)(!1),y=Object(o.a)(g,2),w=y[0],k=y[1],C=Object(c.useState)([]),S=Object(o.a)(C,2),L=S[0],R=S[1],D=Object(c.useState)(""),F=Object(o.a)(D,2),I=F[0],T=F[1],M=Object(c.useState)(!1),U=Object(o.a)(M,2),_=U[0],B=U[1],E=a.a.useCallback((function(){R([]),T(""),B(!1),k(!0),p.current=new MediaRecorder(t.current.stream,{mimeType:"video/webm"}),p.current.addEventListener("dataavailable",J),p.current.start()}),[t,k,p]),J=a.a.useCallback((function(e){var t=e.data;t.size>0&&R((function(e){return e.concat(t)}))}),[R]),N=a.a.useCallback((function(){p.current.stop(),k(!1)}),[p,t,k]),z=a.a.useCallback((function(){if(L.length){var e=new Blob(L,{type:"video/webm"}),t=URL.createObjectURL(e),n=document.createElement("a");document.body.appendChild(n),n.style="display: none",n.href=t,n.download="SampleVideoRecord.webm",n.click()}}),[L]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(d.a,{className:e.container,children:Object(f.jsx)(j.a,{variant:"h3",align:"center",children:"Capture Snap and record video using webcam"})}),Object(f.jsx)(d.a,{style:{marginTop:"20px"},children:Object(f.jsxs)(b.a,{container:!0,spacing:3,children:[Object(f.jsx)(b.a,{item:!0,sm:12,md:12,justify:"center",children:Object(f.jsxs)("div",{className:e.webcam,children:[Object(f.jsx)(l.a,{audio:!0,height:250,ref:t,screenshotFormat:"png",width:400,videoConstraints:{width:400,height:250,facingMode:"user"}}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{children:[w?Object(f.jsx)(u.a,{variant:"contained",color:"secondary",onClick:N,children:"Stop Recording"}):Object(f.jsx)(u.a,{variant:"contained",color:"primary",onClick:E,children:"Start Recording"}),L.length>0&&Object(f.jsx)(a.a.Fragment,{children:Object(f.jsx)(u.a,{variant:"contained",color:"primary",style:{marginLeft:"3px"},onClick:function(e){!function(){if(L.length){var e=new Blob(L,{type:"video/webm"}),t=URL.createObjectURL(e);console.log(t),T(t)}B(!0)}()},children:"Show"})})]}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{children:Object(f.jsx)(u.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),h()},children:"Take Snap"})})]})}),Object(f.jsx)(b.a,{item:!0,sm:12,md:4,style:{marginLeft:"5%"},children:Object(f.jsxs)("div",{children:[s?Object(f.jsx)("img",{src:s}):null,Object(f.jsx)("a",{ref:n,href:s,download:!0}),Object(f.jsx)("div",{children:s?Object(f.jsx)(a.a.Fragment,{children:Object(f.jsxs)("div",{children:[Object(f.jsxs)(u.a,{variant:"contained",color:"primary",startIcon:Object(f.jsx)(m.a,{}),onClick:function(e){n.current.click()},children:[" ","Download"]}),Object(f.jsxs)(u.a,{variant:"contained",color:"secondary",style:{marginLeft:"3px"},startIcon:Object(f.jsx)(x.a,{}),onClick:function(e){O(null)},children:[" ","Discard Snap"]})]})}):null})]})}),Object(f.jsx)(b.a,{item:!0,sm:12,md:4,style:{marginLeft:"20%"},children:_?Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsx)("video",{width:"400",src:I,type:"video/webm",controls:!0,children:"console.log('blobData') Your browser does not support HTML5 video."}),Object(f.jsxs)("div",{children:[Object(f.jsx)(u.a,{variant:"contained",color:"primary",startIcon:Object(f.jsx)(m.a,{}),onClick:z,children:"Download"}),Object(f.jsx)(u.a,{variant:"contained",color:"secondary",style:{marginLeft:"3px"},startIcon:Object(f.jsx)(x.a,{}),onClick:function(e){R([]),T(""),B(!1)},children:"Discard"})]})]}):null})]})})]})};i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(g,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.e90224b6.chunk.js.map